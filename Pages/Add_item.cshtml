@page
@model Pharmacy_back.Pages.Add_itemModel
@{
    ViewData["Title"] = "Add Item";
}

<body>
    <form id="itemForm" method="post">
        <div class="mb-3">
            <label for="itemId" class="form-label">ID</label>
            <input type="text" class="form-control" id="itemId" name="Product_ID" placeholder="00000000" required>
        </div>

        <div class="mb-3">
            <label for="itemPrice" class="form-label">Price</label>
            <input type="text" class="form-control" id="itemPrice" name="Price" placeholder="000" required>
        </div>

        <div class="mb-3">
            <label for="itemName" class="form-label">Name</label>
            <input type="text" class="form-control" id="itemName" name="Name" placeholder="Test" required>
        </div>

        <div class="mb-3">
            <label for="itemQuantity" class="form-label">Quantity</label>
            <input type="number" class="form-control" id="itemQuantity" name="Quantity" placeholder="0" required>
        </div>

        <div class="mb-3">
            <label for="itemManufacturer" class="form-label">Manufacturer</label>
            <input type="text" class="form-control" id="itemManufacturer" name="Manufacturer" placeholder="CIE206" required>
        </div>

        <div class="mb-3">
            <label for="itemCategory" class="form-label">Category</label>
            <select class="form-select" id="itemCategory" name="Category" required>
                <option value="medicine">Medicine</option>
                <option value="cosmetic">Cosmetic</option>
            </select>
        </div>

        <div id="medicineFields" style="display: none;">
            <div class="mb-3">
                <label for="itemDosage" class="form-label">Dosage</label>
                <input type="text" class="form-control" id="itemDosage" name="Dosage" placeholder="One tablet per day">
            </div>

            <div class="mb-3">
                <label for="itemIngredients" class="form-label">Active Ingredient(s)</label>
                <input type="text" class="form-control" id="itemIngredients" name="Active_Ingredients" placeholder="500mg Paracetamol">
            </div>

            <div class="mb-3">
                <label for="itemForm" class="form-label">Form</label>
                <input type="text" class="form-control" id="itemForm" name="Form" placeholder="Tablets">
            </div>
        </div>

        <div id="cosmeticFields" style="display: none;">
            <div class="mb-3">
                <label for="itemType" class="form-label">Type</label>
                <input type="text" class="form-control" id="itemType" name="Type" placeholder="Shampoo, Makeup">
            </div>

            <div class="mb-3">
                <label for="itemDescription" class="form-label">Description</label>
                <input type="text" class="form-control" id="itemDescription" name="Description" placeholder="For dry hair, gentle care">
            </div>
        </div>

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary">Save Item</button>
            <button type="button" id="cancelButton" class="btn btn-danger">Cancel</button>
        </div>
    </form>

    <!-- Script to handle field visibility and reset -->
    <script>
        document.getElementById('itemCategory').addEventListener('change', function () {
            let category = this.value;
            document.getElementById('medicineFields').style.display = category === 'medicine' ? 'block' : 'none';
            document.getElementById('cosmeticFields').style.display = category === 'cosmetic' ? 'block' : 'none';
        });

        document.getElementById('cancelButton').addEventListener('click', function () {
            // Clear all inputs in the form
            document.getElementById('itemForm').reset();

            // Reset visibility of category-specific fields
            document.getElementById('medicineFields').style.display = 'none';
            document.getElementById('cosmeticFields').style.display = 'none';
        });
    </script>
</body>
